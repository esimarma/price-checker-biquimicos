<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Artigo não encontrado</title>
    <link rel="stylesheet" href="not_found_page.css">

    <script>
        // Redireciona após 7 segundos
        setTimeout(function() {
            window.location.href = "index.php";
        }, 7000);

        // Muda cor de fundo com base no parâmetro tipo
        window.onload = () => {
            const params = new URLSearchParams(window.location.search);
            const tipo = params.get("tipo"); // cliente ou outro

            const container = document.querySelector(".container");
            if (tipo === "cliente") {
                container.style.backgroundColor = "#4D5252"; //cinzento
            }
            else {
                container.style.backgroundColor = "#1d93a5"; // azul
            }

            let barcode = "";
            let timeout = null;

            document.addEventListener("keydown", function(event) {

                if (timeout) clearTimeout(timeout);

                if (event.key.length === 1) {
                    barcode += event.key;
                }

                timeout = setTimeout(() => {
                    if (event.key === "Enter") {
                        if ( barcode.length < 13 && tipo !=="cliente" ) {
                            window.location.href = "pagina_espera_cliente/pagina_espera_cliente.php?codigo=" + encodeURIComponent(barcode);
                        } else if( barcode.length >= 13) {
                            window.location.href = "wait_page/wait_page.html?codigo=" + encodeURIComponent(barcode) + "&tipo=" + tipo;
                        }
                        barcode = "";
                    }
                }, 100);
            });
        };

    </script>
</head>
<body>
    <div class="container">
        <div class="image">
            <img src="Imagens/nao_encontrado.svg" alt="Imagem não encontrada">
        </div>
        <div class="mensagem">
            <p>PARECE QUE NÃO CONSEGUIMOS ENCONTRAR O PRODUTO...
                <br> POR FAVOR REPORTE O PROBLEMA PARA UM DOS NOSSOS COLABORADORES.</p>
        </div>
    </div>

    <script>

    </script>
    
</body>
</html>