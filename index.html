<!DOCTYPE html>
<html lang="pt">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Leitor de Produtos</title>
        <link rel="stylesheet" href="home_page.css">
    </head>
    <body>
        <div class="container">
            <div class="header">LEITOR DE PRODUTOS</div>
            <div class="subtext">É cliente? Use o cartão</div>
            <div class="box">
                <div class="content">
                    <div class="text">
                        <p>ACEDA AO <strong>PREÇO</strong> E <strong>DETALHES</strong> DE UM PRODUTO RAPIDAMENTE</p>
                        <p>AO PASSAR O PRODUTO PELO <strong>LEITOR</strong></p>
                    </div>
                    <img src="Imagens/leitor_icon.svg" alt="Ícone do leitor" class="icon">
                </div>
            </div>
        </div>
        
        <script>
            let barcode = "";
            let timeout = null;
        
            document.addEventListener("keydown", function(event) {
                if (timeout) {
                    clearTimeout(timeout);
                }
        
                if (event.key.length === 1) {
                    barcode += event.key;
                }
        
                timeout = setTimeout(() => {
                    if (barcode.length > 3) {
                        console.log("Código de barras lido:", barcode);
        
                        // Redireciona para a página de espera, passando o código via URL
                        window.location.href = "wait_page.html?codigo=" + encodeURIComponent(barcode);
        
                        barcode = "";
                    }
                }, 100);
            });
        </script>
    </body>
</html>